<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>Contact</title>
        <meta http-equiv="cleartype" content="on">
        <meta name="MobileOptimized" content="320">
        <meta name="HandheldFriendly" content="True">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, user-scalable=no">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link
            rel="stylesheet"
            href="https://use.fontawesome.com/releases/v5.5.0/css/brands.css"
            integrity="sha384-QT2Z8ljl3UupqMtQNmPyhSPO/d5qbrzWmFxJqmY7tqoTuT2YrQLEqzvVOP2cT5XW"
            crossorigin="anonymous">
        <link
            rel="stylesheet"
            href="https://use.fontawesome.com/releases/v5.5.0/css/fontawesome.css"
            integrity="sha384-u5J7JghGz0qUrmEsWzBQkfvc8nK3fUT7DCaQzNQ+q4oEXhGSx+P2OqjWsfIRB8QT"
            crossorigin="anonymous">
        <link
            href="https://fonts.googleapis.com/css?family=Raleway:300,500"
            rel="stylesheet">
        <link rel="icon" type="image/png" href="favicon.png"/>
    </head>

    <body>

        <nav id="menuMobile">
            <a href="portfolio.html">
                <div class="logo-container">
                    <img src="img/logo_white.svg">
                </div>
            </a>
            <a href="portfolio.html">Portfolio</a>
            <a href="aboutme.html">About me</a>
            <span class="fw-700">Contact</span>
        </nav>

        <main id="panel">

            <div class="site-bg"></div>
            <div
                class="grid-container-main tingle-content-wrapper animated fadeInUpSmall slow">
                <header class="grid-header">
                    <button class="toggle-button">â˜°</button>
                    <a href="index.html">
                        <div class="mini-logo-container">
                            <img
                                src="img/logo_dark.svg"
                                alt="Logo do site Vitor Takara composto por um Circulo e as letras V, T">
                        </div>
                    </a>

                    <nav class="menuDesktop">
                        <a href="portfolio.html">Portfolio</a>
                        <a href="aboutme.html">About me</a>
                        <span class="fw-700">Contact</span>
                    </nav>
                </header>
                <div class="grid-main contact">
                    <div class="contact-container">
                        <h3>Send me a message! :)</h3>
                        <span id="mail_success" class="display-none mb-7">Email enviado com sucesso!</span>
                        <form class="contact-form" onsubmit="event.preventDefault(); submitForm();">
                            <div class="form-control w-lg-50-percent">
                                <label>Name</label>
                                <input id="name" name="name" required type="text" placeholder="your name">
                            </div>
                            <div class="form-control w-lg-50-percent">
                                <label>Email</label>
                                <input
                                    id="email"
                                    name="email"
                                    required
                                    type="email"
                                    placeholder="email@email.com">
                            </div>
                            <div class="form-control w-lg-100-percent">
                                <label>Message</label>
                                <textarea
                                    id="message"
                                    name="message"
                                    required
                                    rows="5"
                                    cols="50"
                                    placeholder="What do you need today?"></textarea>
                            </div>
                            <div class="buttons">
                                <button type="submit" class="btn-send">SEND</button>
                            </div>

                        </form>

                    </div>
                </div>
                <div class="grid-footer">Made with &hearts; by Vitor Takara</div>
            </div>
        </main>
        <script>
            function submitForm() {

                let contactForm = {
                    name: document
                        .querySelector("#name")
                        .value,
                    email: document
                        .querySelector("#email")
                        .value,
                    message: document
                        .querySelector("#message")
                        .value
                }

                let xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (this.readyState == 4 && this.status == 200) {
                        document
                            .querySelector("#mail_success")
                            .classList
                            .remove("display-none");
                    }
                }
                xmlhttp.open("POST", "email/email.php", true);
                xmlhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xmlhttp.send(`name=${contactForm.name}&email=${contactForm.email}&message=${contactForm.message}`);
            }
        </script>
        <script src="js/main.js"></script>
    </body>

</html>